(this["webpackJsonpplaylister-hw4"]=this["webpackJsonpplaylister-hw4"]||[]).push([[0],{174:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(39),o=n.n(i),s=(n(174),n(56)),l=n(20),c=n(14),d=n(21),u=n(10),b=n(60),j=n.n(b);j.a.defaults.withCredentials=!0;var h=j.a.create({baseURL:"https://playlister-project.herokuapp.com/auth"}),p={getLoggedIn:function(){return h.get("/loggedIn/")},registerUser:function(e,t,n,a,r,i){return h.post("/register/",{username:e,email:t,firstName:n,lastName:a,password:r,passwordVerify:i})},loginUser:function(e,t){return h.post("/login/",{email:e,password:t})},logoutUser:function(){return h.get("/logout/")}},x=n(0),f=Object(a.createContext)();console.log("create AuthContext: "+f);var g="GET_LOGGED_IN",O="SET_LOGGED_IN",m="LOGIN_USER",y="LOGOUT_USER",v="REGISTER_USER",w="SHOW_AUTH_MODALS",S="HIDE_AUTH_MODALS",k="GUEST_USER";function C(e){var t=Object(a.useState)({user:null,loggedIn:!1,modalMsg:!1,modalVisible:!1,isGuest:!1}),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(l.f)();Object(a.useEffect)((function(){r.getLoggedIn()}),[]);var s=function(e){var t=e.type,n=e.payload;switch(t){case g:return i({user:n.user,loggedIn:n.loggedIn,modalMsg:!1,modalVisible:!1,isGuest:!1});case m:return i({user:n.user,loggedIn:!0,modalMsg:!1,modalVisible:!1,isGuest:!1});case y:return i({user:null,loggedIn:!1,modalMsg:!1,modalVisible:!1,isGuest:!1});case v:case O:return i({user:n.user,loggedIn:!0,modalMsg:!1,modalVisible:!1,isGuest:!1});case w:return i({user:null,loggedIn:!0,modalMsg:n.modalMsg,modalVisible:!0,isGuest:!1});case S:return i({user:null,loggedIn:!0,modalMsg:null,modalVisible:!1,isGuest:!1});case k:return i({user:null,loggedIn:!1,modalMsg:!1,modalVisible:!1,isGuest:n});default:return r}};return r.getLoggedIn=Object(d.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getLoggedIn();case 2:200===(t=e.sent).status&&s({type:O,payload:{loggedIn:t.data.loggedIn,user:t.data.user}});case 4:case"end":return e.stop()}}),e)}))),r.registerUser=function(){var e=Object(d.a)(Object(c.a)().mark((function e(t,n,a,r,i,l){var d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.registerUser(t,n,a,r,i,l);case 3:200===(d=e.sent).status&&(s({type:v,payload:{user:d.data.user}}),o.push("/")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),s({type:w,payload:{modalMsg:e.t0.response.data.errorMessage}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),r.loginUser=function(){var e=Object(d.a)(Object(c.a)().mark((function e(t,n){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.loginUser(t,n);case 3:200===(a=e.sent).status&&(s({type:m,payload:{user:a.data.user}}),o.push("/")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),s({type:w,payload:{modalMsg:e.t0.response.data.errorMessage}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),r.logoutUser=Object(d.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.logoutUser();case 2:200===e.sent.status&&(s({type:y,payload:null}),o.push("/"));case 4:case"end":return e.stop()}}),e)}))),r.getUserInitials=function(){var e="";return r.user&&(e+=r.user.firstName.charAt(0),e+=r.user.lastName.charAt(0)),console.log("user initials: "+e),e},r.hideModal=function(){s({type:S})},r.guestUser=function(e){s({type:k,payload:e})},Object(x.jsx)(f.Provider,{value:{auth:r},children:e.children})}var L=f,I=n(16),R=n(26),P=n(27),T=function(){function e(){Object(R.a)(this,e),this.transactions=[],this.numTransactions=0,this.mostRecentTransaction=-1,this.performingDo=!1,this.performingUndo=!1}return Object(P.a)(e,[{key:"isPerformingDo",value:function(){return this.performingDo}},{key:"isPerformingUndo",value:function(){return this.performingUndo}},{key:"getSize",value:function(){return this.transactions.length}},{key:"getRedoSize",value:function(){return this.getSize()-this.mostRecentTransaction-1}},{key:"getUndoSize",value:function(){return this.mostRecentTransaction+1}},{key:"hasTransactionToRedo",value:function(){return this.mostRecentTransaction+1<this.numTransactions}},{key:"hasTransactionToUndo",value:function(){return this.mostRecentTransaction>=0}},{key:"addTransaction",value:function(e){if(this.mostRecentTransaction<0||this.mostRecentTransaction<this.transactions.length-1){for(var t=this.transactions.length-1;t>this.mostRecentTransaction;t--)this.transactions.splice(t,1);this.numTransactions=this.mostRecentTransaction+2}else this.numTransactions++;this.transactions[this.mostRecentTransaction+1]=e,this.doTransaction()}},{key:"doTransaction",value:function(){this.hasTransactionToRedo()&&(this.performingDo=!0,this.transactions[this.mostRecentTransaction+1].doTransaction(),this.mostRecentTransaction++,this.performingDo=!1)}},{key:"undoTransaction",value:function(){this.hasTransactionToUndo()&&(this.performingUndo=!0,this.transactions[this.mostRecentTransaction].undoTransaction(),this.mostRecentTransaction--,this.performingUndo=!1)}},{key:"clearAllTransactions",value:function(){this.transactions=[],this.mostRecentTransaction=-1,this.numTransactions=0}},{key:"toString",value:function(){var e="--Number of Transactions: "+this.numTransactions+"\n";e+="--Current Index on Stack: "+this.mostRecentTransaction+"\n",e+="--Current Transaction Stack:\n";for(var t=0;t<=this.mostRecentTransaction;t++){e+="----"+this.transactions[t].toString()+"\n"}return e}}]),e}();j.a.defaults.withCredentials=!0;var D=j.a.create({baseURL:"https://playlister-project.herokuapp.com/api/"}),N={createPlaylist:function(e,t,n,a,r,i,o,s,l){return D.post("/playlist/",{name:e,songs:t,ownerEmail:n,ownerUsername:a,publishedDate:r,listens:i,likers:o,dislikers:s,comments:l})},deletePlaylistById:function(e){return D.delete("/playlist/".concat(e))},getPlaylistById:function(e){return D.get("/playlist/".concat(e))},getPlaylistPairs:function(){return D.get("/playlistpairs/")},getPlaylists:function(){return D.get("/playlists/")},updatePlaylistById:function(e,t){return D.put("/playlist/".concat(e),{playlist:t})}},E=n(43),F=n(45),A=function(e){Object(E.a)(n,e);var t=Object(F.a)(n);function n(e,a,r){var i;return Object(R.a)(this,n),(i=t.call(this)).store=e,i.index=a,i.song=r,i}return Object(P.a)(n,[{key:"doTransaction",value:function(){this.store.createSong(this.index,this.song)}},{key:"undoTransaction",value:function(){this.store.removeSong(this.index)}}]),n}(T),M=function(e){Object(E.a)(n,e);var t=Object(F.a)(n);function n(e,a,r){var i;return Object(R.a)(this,n),(i=t.call(this)).store=e,i.oldSongIndex=a,i.newSongIndex=r,i}return Object(P.a)(n,[{key:"doTransaction",value:function(){this.store.moveSong(this.oldSongIndex,this.newSongIndex)}},{key:"undoTransaction",value:function(){this.store.moveSong(this.newSongIndex,this.oldSongIndex)}}]),n}(T),_=function(e){Object(E.a)(n,e);var t=Object(F.a)(n);function n(e,a,r){var i;return Object(R.a)(this,n),(i=t.call(this)).store=e,i.index=a,i.song=r,i}return Object(P.a)(n,[{key:"doTransaction",value:function(){this.store.removeSong(this.index)}},{key:"undoTransaction",value:function(){this.store.createSong(this.index,this.song)}}]),n}(T),W=function(e){Object(E.a)(n,e);var t=Object(F.a)(n);function n(e,a,r,i){var o;return Object(R.a)(this,n),(o=t.call(this)).store=e,o.index=a,o.oldSongData=r,o.newSongData=i,o}return Object(P.a)(n,[{key:"doTransaction",value:function(){this.store.updateSong(this.index,this.newSongData)}},{key:"undoTransaction",value:function(){this.store.updateSong(this.index,this.oldSongData)}}]),n}(T),z=Object(a.createContext)({});console.log("create GlobalStoreContext");var V="CHANGE_LIST_NAME",U="CLOSE_CURRENT_LIST",G="CREATE_NEW_LIST",Y="LOAD_ID_NAME_PAIRS",H="MARK_LIST_FOR_DELETION",B="UNMARK_LIST_FOR_DELETION",q="SET_CURRENT_LIST",K="SET_LIST_NAME_EDIT_ACTIVE",Q="EDIT_SONG",J="REMOVE_SONG",X="HIDE_MODALS",Z="SET_PAGE_VIEW",$="GET_ALL_PLAYLISTS",ee="SORT_PLAYLISTS",te="CHANGE_FILTER",ne=new T,ae="NONE",re="DELETE_LIST",ie="EDIT_SONG",oe="REMOVE_SONG";function se(e){var t=Object(a.useState)({currentModal:ae,pageView:"HOME",idNamePairs:[],currentList:null,currentSongIndex:-1,currentSong:null,newListCounter:0,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,allPlaylists:null,filter:""}),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(l.f)();console.log("inside useGlobalStore");var s=Object(a.useContext)(L).auth;console.log("auth: "+s);var b=function(e){var t=e.type,n=e.payload;switch(t){case V:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,idNamePairs:n.idNamePairs,currentList:n.playlist,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,filter:""})}));case U:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentList:null,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case G:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentList:n,currentSongIndex:-1,currentSong:null,newListCounter:r.newListCounter+1,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,filter:""})}));case Y:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,idNamePairs:n.pairsArray,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case H:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:re,currentList:r.currentList,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:n.id,listMarkedForDeletion:n.playlist})}));case B:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:null,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,allPlaylists:r.allPlaylists})}));case q:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentList:n,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case K:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentList:n,currentSongIndex:-1,currentSong:null,listNameActive:!0,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case Q:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ie,currentSongIndex:n.currentSongIndex,currentSong:n.currentSong,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case J:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:oe,currentSongIndex:n.currentSongIndex,currentSong:n.currentSong,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case X:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null})}));case Z:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{pageView:n,currentList:null,filter:""})}));case $:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{allPlaylists:n})}));case ee:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentList:null,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,allPlaylists:n.allPlaylists,idNamePairs:n.pairsArray,pageView:n.pageView})}));case te:return i((function(e){return Object(I.a)(Object(I.a)({},e),{},{currentModal:ae,currentList:null,currentSongIndex:-1,currentSong:null,listNameActive:!1,listIdMarkedForDeletion:null,listMarkedForDeletion:null,pageView:n.pageView,filter:n.string})}));default:return r}};return r.changeListName=function(e,t){function n(){return n=Object(d.a)(Object(c.a)().mark((function e(n){var a,r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistById(n);case 2:(a=e.sent).data.success&&(r=function(){var e=Object(d.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.updatePlaylistById(t._id,t);case 2:(a=e.sent).data.success&&(n=function(){var e=Object(d.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistPairs();case 2:(a=e.sent).data.success&&(n=a.data.idNamePairs,b({type:V,payload:{idNamePairs:n,playlist:t}}),o.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(i=a.data.playlist).name=t,r(i));case 4:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}!function(e){n.apply(this,arguments)}(e)},r.closeCurrentList=function(){b({type:U,payload:{}}),ne.clearAllTransactions(),o.push("/")},r.createNewList=Object(d.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){return(n=Object(d.a)(Object(c.a)().mark((function e(){var t,n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Untitled"+r.newListCounter,e.next=3,N.createPlaylist(t,[],s.user.email,s.user.username,null,0,[],[],[]);case 3:n=e.sent,console.log("createNewList response: "+n),201===n.status?(ne.clearAllTransactions(),a=n.data.playlist,b({type:G,payload:a}),r.loadIdNamePairs(),o.push("/")):console.log("API FAILED TO CREATE A NEW LIST");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},t=function(){return n.apply(this,arguments)},t();case 3:case"end":return e.stop()}}),e)}))),r.loadIdNamePairs=function(){function e(){return(e=Object(d.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistPairs();case 2:(t=e.sent).data.success?(n=t.data.idNamePairs,t.data.success&&b({type:Y,payload:{pairsArray:n}})):console.log("API FAILED TO GET THE LIST PAIRS");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},r.getAllPlaylists=function(){function e(){return(e=Object(d.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylists();case 2:(t=e.sent).data.success?(n=t.data.playlists,b({type:$,payload:n})):console.log("API FAILED TO GET THE LIST PAIRS");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},r.markListForDeletion=function(e){function t(){return t=Object(d.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistById(t);case 2:(n=e.sent).data.success&&(a=n.data.playlist,b({type:H,payload:{id:t,playlist:a}}));case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}(e)},r.deleteList=function(){var e=Object(d.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return a=Object(d.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.deletePlaylistById(t);case 2:e.sent.data.success&&(r.loadIdNamePairs(),o.push("/"));case 4:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(e){return a.apply(this,arguments)},e.next=4,n(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deleteMarkedList=function(){r.deleteList(r.listIdMarkedForDeletion),r.hideModals()},r.unmarkListForDeletion=function(){b({type:B,payload:null})},r.showEditSongModal=function(e,t){b({type:Q,payload:{currentSongIndex:e,currentSong:t}})},r.showRemoveSongModal=function(e,t){b({type:J,payload:{currentSongIndex:e,currentSong:t}})},r.hideModals=function(){b({type:X,payload:{}})},r.isDeleteListModalOpen=function(){return r.currentModal===re},r.isEditSongModalOpen=function(){return r.currentModal===ie},r.isRemoveSongModalOpen=function(){return r.currentModal===oe},r.setCurrentList=function(e){function t(){return t=Object(d.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistById(t);case 2:(n=e.sent).data.success&&(a=n.data.playlist,b({type:q,payload:a}),o.push("/"));case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}(e)},r.publishPlaylist=function(e){function t(){return(t=Object(d.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.updatePlaylistById(e._id,e);case 2:t.sent.data.success&&r.loadIdNamePairs();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.publishedDate=new Date,function(){t.apply(this,arguments)}()},r.duplicatePlaylist=function(e){function t(){return(t=Object(d.a)(Object(c.a)().mark((function t(){var n,a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.createPlaylist(e.name+" copy",e.songs,s.user.email,s.user.username,null,0,[],[],[]);case 2:n=t.sent,console.log("createNewList response: "+n),201===n.status&&(ne.clearAllTransactions(),a=n.data.playlist,b({type:G,payload:a}),r.loadIdNamePairs());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},r.getPlaylistSize=function(){return r.currentList.songs.length},r.addNewSong=function(){var e=this.getPlaylistSize();this.addCreateSongTransaction(e,"Untitled","?","dQw4w9WgXcQ")},r.createSong=function(e,t){var n=r.currentList;n.songs.splice(e,0,t),r.updateCurrentList(n)},r.moveSong=function(e,t){var n=r.currentList;if(e<t){for(var a=n.songs[e],i=e;i<t;i++)n.songs[i]=n.songs[i+1];n.songs[t]=a}else if(e>t){for(var o=n.songs[e],s=e;s>t;s--)n.songs[s]=n.songs[s-1];n.songs[t]=o}r.updateCurrentList(n)},r.removeSong=function(e){var t=r.currentList;t.songs.splice(e,1),r.updateCurrentList(t)},r.updateSong=function(e,t){var n=r.currentList,a=n.songs[e];a.title=t.title,a.artist=t.artist,a.youTubeId=t.youTubeId,r.updateCurrentList(n)},r.addNewSong=function(){var e=r.getPlaylistSize();r.addCreateSongTransaction(e,"Untitled","?","dQw4w9WgXcQ")},r.addCreateSongTransaction=function(e,t,n,a){var i=new A(r,e,{title:t,artist:n,youTubeId:a});ne.addTransaction(i)},r.addMoveSongTransaction=function(e,t){var n=new M(r,e,t);ne.addTransaction(n)},r.addRemoveSongTransaction=function(){var e=r.currentSongIndex,t=r.currentList.songs[e],n=new _(r,e,t);ne.addTransaction(n)},r.addUpdateSongTransaction=function(e,t){var n=r.currentList.songs[e],a={title:n.title,artist:n.artist,youTubeId:n.youTubeId},i=new W(this,e,a,t);ne.addTransaction(i)},r.updateCurrentList=function(e){function t(){return t=Object(d.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.updatePlaylistById(t._id,t);case 2:(n=e.sent).data.success&&(a=n.data.playlist,b({type:q,payload:a}),r.loadIdNamePairs(),r.getAllPlaylists(),o.push("/"));case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}(e)},r.undo=function(){ne.undoTransaction()},r.redo=function(){ne.doTransaction()},r.canAddNewSong=function(){return null!==r.currentList},r.canUndo=function(){return null!==r.currentList&&ne.hasTransactionToUndo()},r.canRedo=function(){return null!==r.currentList&&ne.hasTransactionToRedo()},r.canClose=function(){return null!==r.currentList},r.setIsListNameEditActive=function(){b({type:K,payload:null})},r.addComment=function(e,t){console.log(t);var n={body:t,owner:s.user.username,postedDate:new Date};e.comments.push(n),console.log(e),r.updateCurrentList(e)},r.incrementListens=function(e){function t(){return t=Object(d.a)(Object(c.a)().mark((function e(t){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getPlaylistById(t);case 2:(n=e.sent).data.success&&null!=(a=n.data.playlist).publishedDate&&(a.listens+=1,r.updateCurrentList(a));case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}(e)},r.changePageView=function(e){b({type:Z,payload:e})},r.changeFilter=function(e,t){b({type:te,payload:{pageView:t,string:e}})},r.sortPlaylists=function(e,t){if("HOME"===t){var n=r.idNamePairs;"Sort Name"===e?n.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})})):"Sort Creation Date"===e?n.sort((function(e,t){return new Date(e.playlist.createdAt)-new Date(t.playlist.createdAt)})):"Sort Last Edit Date"===e&&n.sort((function(e,t){return new Date(t.playlist.updatedAt)-new Date(e.playlist.updatedAt)})),b({type:ee,payload:{pairsArray:n,pageView:t,allPlaylists:r.allPlaylists}})}else if("ALL"===t||"USER"===t){var a=r.allPlaylists;"Sort Name"===e?a.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})})):"Sort Publish Date"===e?a.sort((function(e,t){return new Date(t.playlist.publishedDate)-new Date(e.playlist.publishedDate)})):"Sort Listens"===e?a.sort((function(e,t){return t.playlist.listens-e.playlist.listens})):"Sort Likes"===e?a.sort((function(e,t){return t.playlist.likers.length-e.playlist.likers.length})):"Sort Dislikes"===e&&a.sort((function(e,t){return t.playlist.dislikers.length-e.playlist.dislikers.length})),b({type:ee,payload:{pairsArray:r.idNamePairs,pageView:t,allPlaylists:a}})}},Object(x.jsx)(z.Provider,{value:{store:r},children:e.children})}var le=z,ce=n(137),de=n.n(ce),ue=n(292),be=n(291),je=n(294),he=n(146),pe=n(284),xe=n(293),fe=n(102);function ge(){var e=Object(a.useContext)(L).auth,t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Boolean(r),l=function(e){i(e.currentTarget),console.log("open menu")},c=function(){i(null)},d={fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a"},b="primary-search-account-menu",j=Object(x.jsxs)(he.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:c,children:[Object(x.jsx)(pe.a,{onClick:c,children:Object(x.jsx)("a",{style:d,href:"/login/",children:"Login"})}),Object(x.jsx)(pe.a,{onClick:c,children:Object(x.jsx)("a",{style:d,href:"/register/",children:"Create Account"})})]}),h=Object(x.jsx)(he.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:c,children:Object(x.jsx)(pe.a,{onClick:function(){c(),e.logoutUser()},sx:d,children:"Logout"})}),p=j;return e.loggedIn&&null!=e.user&&(p=h),Object(x.jsxs)(be.a,{sx:{flexGrow:1},children:[Object(x.jsx)(ue.a,{position:"static",children:Object(x.jsxs)(xe.a,{sx:{backgroundColor:"#ddbea9"},children:[Object(x.jsx)(fe.a,{variant:"h4",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:Object(x.jsx)(s.b,{style:{textDecoration:"none",color:"#6b705c",fontSize:35,fontFamily:"Brush Script MT",fontWeight:"bold"},to:"/",onClick:function(){e.loggedIn&&null!=e.user||e.guestUser(!1)},children:"Playlister"})}),Object(x.jsx)(be.a,{sx:{flexGrow:1}}),Object(x.jsx)(be.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(x.jsx)(je.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":b,"aria-haspopup":"true",onClick:l,color:"inherit",children:function(t,n){var a=e.getUserInitials();return t&&null!=n?Object(x.jsx)("div",{id:"userInitials-icon",onClick:l,children:Object(x.jsx)("text",{id:"userInitials-text",children:a})}):Object(x.jsx)(de.a,{sx:{color:"#6b705c",fontSize:30}})}(e.loggedIn,e.user)})})]})}),p]})}var Oe=n(140),me=n.n(Oe),ye=n(138),ve=n.n(ye),we=n(139),Se=n.n(we),ke=n(267),Ce=n(141),Le=n.n(Ce),Ie=n(279),Re=n(278);function Pe(){var e=Object(a.useContext)(z).store,t=Object(a.useContext)(L).auth,n=Object(a.useState)(null),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Boolean(i),l=function(){o(null)},c=function(t){return function(n){e.changePageView(t)}},d=function(t){return function(n){e.sortPlaylists(t,e.pageView),l()}};var b="primary-search-account-menu",j={style:{fontSize:15,fontFamily:"Raleway"}},h={fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a"},p=Object(x.jsxs)(he.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:l,children:[Object(x.jsx)(pe.a,{onClick:d("Sort Creation Date"),style:h,children:"By Creation Date (Old-New)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Last Edit Date"),style:h,children:"By Last Edit Date (New-Old)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Name"),style:h,children:"By Name (A-Z)"})]});return"ALL"!==e.pageView&&"USER"!==e.pageView||(p=Object(x.jsxs)(he.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:l,children:[Object(x.jsx)(pe.a,{onClick:d("Sort Name"),style:h,children:"Name (A - Z)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Publish Date"),style:h,children:"Publish Date (Newest)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Listens"),style:h,children:"Listens (High - Low)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Likes"),style:h,children:"Likes (High - Low)"}),Object(x.jsx)(pe.a,{onClick:d("Sort Dislikes"),style:h,children:"Dislikes (High - Low)"})]})),Object(x.jsxs)(be.a,{sx:{flexGrow:1},children:[Object(x.jsx)(ue.a,{id:"nav-bar",position:"static",children:Object(x.jsxs)(xe.a,{sx:{backgroundColor:"#ffe8d6"},children:[Object(x.jsx)(fe.a,{variant:"h4",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),Object(x.jsxs)(ke.a,{direction:"row",spacing:1,children:[Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"HOME"}),placement:"bottom",children:Object(x.jsx)(je.a,{disabled:t.isGuest,onClick:c("HOME"),children:Object(x.jsx)(ve.a,{sx:t.isGuest?{fontSize:40,color:"#bcb8b1"}:"HOME"===e.pageView?{fontSize:40,color:"#e8ac65"}:{fontSize:40,color:"#463f3a"}})})}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"ALL PLAYLISTS"}),placement:"bottom",children:Object(x.jsx)(je.a,{onClick:c("ALL"),children:Object(x.jsx)(Se.a,{sx:"ALL"===e.pageView?{fontSize:40,color:"#e8ac65"}:{fontSize:40,color:"#463f3a"}})})}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"ALL USERS"}),placement:"bottom",children:Object(x.jsx)(je.a,{onClick:c("USER"),children:Object(x.jsx)(me.a,{sx:"USER"===e.pageView?{fontSize:40,color:"#e8ac65"}:{fontSize:40,color:"#463f3a"}})})})]}),Object(x.jsx)(be.a,{sx:{flexGrow:1,ml:"5%"},children:Object(x.jsx)(Ie.a,{inputProps:j,InputLabelProps:j,onKeyUp:function(t){return function(t){"Enter"===t.code&&(console.log("Search by "+t.target.value),e.changeFilter(t.target.value,e.pageView))}(t)},sx:{background:"white",width:"80%"},label:"Search"})}),Object(x.jsx)(fe.a,{sx:{fontWeight:"bold",color:"#463f3a",fontFamily:"Raleway"},children:" SORT BY "}),Object(x.jsx)(je.a,{onClick:function(e){o(e.currentTarget)},children:Object(x.jsx)(Le.a,{sx:{fontSize:40,color:"#463f3a"}})})]})}),p]})}var Te=n(280),De=n(286),Ne={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:430,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:.5};function Ee(){var e=Object(a.useContext)(le).store,t="";e.listMarkedForDeletion&&(t=e.listMarkedForDeletion.name);var n={color:"white",fontWeight:"bold",fontFamily:"Raleway",backgroundColor:"#cb997e","&:hover":{backgroundColor:"gray"},margin:1};return Object(x.jsx)(Te.a,{open:null!==e.listMarkedForDeletion,children:Object(x.jsx)(be.a,{sx:Ne,children:Object(x.jsxs)("div",{className:"modal-dialog",children:[Object(x.jsx)("header",{className:"dialog-header",children:"Delete Playlist?"}),Object(x.jsx)("div",{className:"modal-center",children:Object(x.jsxs)("div",{className:"modal-center-content modal-text",children:['Are you sure you want to delete the "',t,'" playlist?']})}),Object(x.jsxs)("div",{id:"confirm-cancel-container",children:[Object(x.jsx)(De.a,{id:"dialog-yes-button",className:"modal-button",onClick:function(t){e.deleteMarkedList(),e.unmarkListForDeletion()},sx:n,children:"Confirm"}),Object(x.jsx)(De.a,{id:"dialog-no-button",className:"modal-button",onClick:function(t){e.unmarkListForDeletion()},sx:n,children:"Cancel"})]})]})})})}var Fe=n(93),Ae=n.n(Fe);var Me=function(){var e=Object(a.useContext)(z).store,t="";return e&&(t="HOME"===e.pageView?Object(x.jsxs)("div",{id:"playlister-statusbar",children:[Object(x.jsx)(je.a,{onClick:function(){e.createNewList()},children:Object(x.jsx)(Ae.a,{sx:{color:"#463f3a",fontSize:60}})}),Object(x.jsx)(fe.a,{sx:{color:"#463f3a",fontFamily:"Raleway",fontWeight:"bold"},variant:"h4",children:"Add New Playlist"})]}):Object(x.jsx)("div",{id:"playlister-statusbar"})),Object(x.jsx)("div",{children:t})},_e=n(296),We=n(297),ze=n(298),Ve=n(268),Ue=n(269),Ge=n(290),Ye=n(282),He=n(94),Be=n.n(He),qe=n(142),Ke=n.n(qe);var Qe=function(e){var t=Object(a.useContext)(z).store,n=e.song,r=e.index,i={background:"transparent",color:"white","&:hover":{color:"#463f3a"},fontSize:30};return Object(x.jsxs)("div",{id:"song-"+r+"-card",className:"list-card unselected-list-card",onDragStart:function(e){e.dataTransfer.setData("song",r)},onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var n=r,a=Number(e.dataTransfer.getData("song"));t.addMoveSongTransaction(a,n)},draggable:"true",children:[Object(x.jsx)("div",{style:{marginTop:"-1.5%",width:"7%",float:"left",fontSize:"60px",fontWeight:"bold"},children:Object(x.jsx)("span",{children:r+1})}),Object(x.jsx)("span",{style:{fontSize:"25px",fontWeight:"bold"},children:n.title})," ",Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{fontSize:"20px"},children:n.artist}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"REMOVE SONG"}),placement:"bottom",children:Object(x.jsx)(Ke.a,{id:"remove-song-"+r,className:"list-card-button",onClick:function(e){t.showRemoveSongModal(r,n)},sx:i})}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"EDIT SONG"}),placement:"bottom",children:Object(x.jsx)(Be.a,{id:"edit-song-"+r,className:"list-card-button",onClick:function(e){t.showEditSongModal(r,n)},sx:i})})]},r)};var Je=function(){var e=Object(a.useContext)(z).store,t={color:"white",fontWeight:"bold",fontFamily:"Raleway",backgroundColor:"#cb997e","&:hover":{backgroundColor:"gray"},margin:1};return Object(x.jsxs)("div",{id:"edit-toolbar",children:[Object(x.jsx)(De.a,{disabled:!e.canUndo(),id:"undo-button",onClick:function(){e.undo()},variant:"contained",sx:t,children:"Undo"}),Object(x.jsx)(De.a,{disabled:!e.canRedo(),id:"redo-button",onClick:function(){e.redo()},variant:"contained",sx:t,children:"Redo"})]})};var Xe=function(e){var t=Object(a.useContext)(z).store,n=Object(a.useContext)(L).auth,r=Object(a.useState)(!1),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(""),c=Object(u.a)(l,2),d=c[0],b=c[1],j=e.playlist,h=e.published,p=e.isExpanded,f=e.isHome;function g(){var e=!o;e&&t.setIsListNameEditActive(),s(e)}function O(){t.markListForDeletion(j._id),t.closeCurrentList()}function m(){t.duplicatePlaylist(j)}var y={color:"white",fontWeight:"bold",fontFamily:"Raleway",backgroundColor:"#cb997e","&:hover":{backgroundColor:"gray"},margin:1},v="";!0===p&&(v=Object(x.jsxs)(_e.a,{children:[Object(x.jsx)(be.a,{sx:{flexGrow:1},children:Object(x.jsx)(Ge.a,{id:"playlist-cards",sx:{width:"100%"},children:j.songs.map((function(e,t){return Object(x.jsx)(Qe,{id:"playlist-song-"+t,index:t,song:e},"playlist-song-"+t)}))})}),Object(x.jsxs)(be.a,{children:[Object(x.jsx)(Je,{}),Object(x.jsxs)("div",{id:"publish-toolbar",children:[Object(x.jsxs)(De.a,{id:"publish-button",onClick:function(){t.addNewSong()},variant:"contained",sx:y,children:[Object(x.jsx)(Ae.a,{sx:{color:"white",fontSize:25}}),Object(x.jsx)("span",{style:{color:"white",fontWeight:"bold",fontFamily:"Raleway"},children:"Add New Song"})]}),Object(x.jsx)(De.a,{id:"publish-button",onClick:function(){t.publishPlaylist(j)},variant:"contained",sx:y,children:"Publish"}),Object(x.jsx)(De.a,{id:"delete-button",onClick:O,variant:"contained",sx:y,children:"Delete"}),Object(x.jsx)(De.a,{id:"duplicate-button",onClick:m,variant:"contained",sx:y,children:"Duplicate"})]})]})]}));var w=Object(x.jsxs)(We.a,{sx:{width:"100%",backgroundColor:"#f1dca7",color:"#463f3a"},children:[Object(x.jsx)(ze.a,{title:j.name,subheader:"By: "+j.ownerUsername,action:Object(x.jsx)("div",{id:"buttonbox",children:Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"EDIT NAME"}),placement:"bottom",children:Object(x.jsx)(je.a,{onClick:function(e){e.stopPropagation(),g()},children:Object(x.jsx)(Be.a,{id:"edit-list-"+j._id,className:"list-card-button",sx:{color:"#463f3a",fontSize:30}})})})}),titleTypographyProps:{variant:"h5",fontFamily:"Raleway",fontWeight:"bold"},subheaderTypographyProps:{variant:"h7",fontFamily:"Raleway"}}),v]},"listcard-"+j._id),S="";if(f&&(S=Object(x.jsx)(De.a,{id:"delete-button",onClick:O,variant:"contained",sx:y,children:"Delete"})),!0===h){var k=new Date(j.publishedDate).toDateString(),C=j.listens;!0===p&&(v=Object(x.jsxs)(_e.a,{children:[Object(x.jsx)(be.a,{sx:{flexGrow:1},children:Object(x.jsx)(Ge.a,{id:"playlist-cards",sx:{width:"99%",backgroundColor:"#6b705c",borderRadius:"5px"},children:j.songs.map((function(e,t){return Object(x.jsxs)(Ye.a,{sx:{color:"white"},children:[Object(x.jsx)("span",{style:{fontSize:"25px",fontWeight:"bold",marginRight:"1%"},children:t+1}),Object(x.jsx)("span",{style:{fontSize:"25px",fontWeight:"bold",marginRight:"1%"},children:e.title}),Object(x.jsx)("span",{style:{fontSize:"20px"},children:e.artist})]},"list-song-"+t)}))})}),Object(x.jsx)(be.a,{children:Object(x.jsxs)("div",{id:"publish-toolbar",children:[S,Object(x.jsx)(De.a,{id:"duplicate-button",onClick:m,variant:"contained",disabled:n.isGuest,sx:y,children:"Duplicate"})]})})]})),w=Object(x.jsxs)(We.a,{sx:{width:"100%",backgroundColor:"#a5a58d",color:"#463f3a",fontFamily:"Raleway"},children:[Object(x.jsx)(ze.a,{title:j.name,subheader:"By: "+j.ownerUsername,action:Object(x.jsx)("div",{id:"buttonbox",children:Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",spacing:2,children:[Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"LIKE"}),placement:"bottom",children:Object(x.jsx)(je.a,{onClick:function(){j.likers.includes(n.user.username)?j.likers.splice(j.likers.indexOf(n.user.username),1):j.dislikers.includes(n.user.username)?(j.likers.push(n.user.username),j.dislikers.splice(j.dislikers.indexOf(n.user.username),1)):j.likers.push(n.user.username),t.updateCurrentList(j),t.closeCurrentList()},disabled:n.isGuest,children:Object(x.jsx)(Ve.a,{sx:{fontSize:35,color:n.isGuest?"gray":j.likers.includes(n.user.username)?"#f1dca7":"#463f3a"}})})}),Object(x.jsx)(fe.a,{sx:{paddingTop:1,fontSize:25},children:j.likers.length}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:"DISLIKE"}),placement:"bottom",children:Object(x.jsx)(je.a,{onClick:function(){j.dislikers.includes(n.user.username)?j.dislikers.splice(j.dislikers.indexOf(n.user.username),1):j.likers.includes(n.user.username)?(j.dislikers.push(n.user.username),j.likers.splice(j.likers.indexOf(n.user.username),1)):j.dislikers.push(n.user.username),t.updateCurrentList(j),t.closeCurrentList()},disabled:n.isGuest,children:Object(x.jsx)(Ue.a,{sx:{fontSize:35,color:n.isGuest?"gray":j.dislikers.includes(n.user.username)?"#f1dca7":"#463f3a"}})})}),Object(x.jsx)(fe.a,{sx:{paddingTop:1,fontSize:25},children:j.dislikers.length})]})}),titleTypographyProps:{variant:"h5",fontFamily:"Raleway",fontWeight:"bold"},subheaderTypographyProps:{variant:"h7",fontFamily:"Raleway"}}),Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsxs)(fe.a,{sx:{margin:"10px",fontSize:15,marginLeft:"2%"},children:[Object(x.jsx)("span",{style:{fontWeight:"bold",fontFamily:"Raleway"},children:"Published: "}),Object(x.jsx)("span",{style:{fontStyle:"italic",fontFamily:"Raleway"},children:k})]}),Object(x.jsxs)(fe.a,{sx:{margin:"10px",fontSize:15,marginRight:"2%"},children:[Object(x.jsx)("span",{style:{fontWeight:"bold",fontFamily:"Raleway"},children:"Listens: "}),Object(x.jsx)("span",{style:{fontFamily:"Raleway"},children:C})]})]}),v]},"listcard-"+j._id)}return o&&(w=Object(x.jsx)(Ie.a,{margin:"normal",required:!0,fullWidth:!0,id:"list-"+j._id,label:"Playlist Name",name:"name",autoComplete:"Playlist Name",className:"list-card",onKeyPress:function(e){if("Enter"===e.code){var n=e.target.id.substring("list-".length);t.changeListName(n,d),g()}},onChange:function(e){b(e.target.value)},defaultValue:j.name,inputProps:{style:{fontSize:"25px",fontFamily:"Raleway"}},InputLabelProps:{style:{fontSize:"25px",fontFamily:"Raleway"}},sx:{background:"white"},autoFocus:!0})),w},Ze=n(283),$e=n(299),et=n(300),tt=n(59),nt=n.n(tt),at=n(58),rt=n.n(at);var it=function(){var e=Object(a.useContext)(z).store,t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],i=n[1],o=[];return null!=e.allPlaylists&&(o=e.allPlaylists.filter((function(e){return null!=e.playlist.publishedDate}))),""!==e.filter&&(o=o.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())}))),Object(x.jsx)(Ge.a,{sx:{width:"98%",left:"2%",bgcolor:"#ddbea9",overflowY:"scroll",borderRadius:"5px",marginTop:"-0.5%"},children:o.map((function(t){return Object(x.jsxs)(Ze.a,{expanded:r===t._id,children:[Object(x.jsxs)($e.a,{children:[Object(x.jsx)(Xe,{playlist:t.playlist,published:null!=t.playlist.publishedDate,isExpanded:r===t._id,isHome:"HOME"===e.pageView}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:r===t._id?"CLOSE PLAYLIST":"OPEN PLAYLIST"}),placement:"bottom",children:Object(x.jsx)(De.a,{onClick:(n=t._id,a=r===t._id,function(t){t.stopPropagation(),t.preventDefault(),i(!a&&n),!1===a?(e.setCurrentList(n),e.incrementListens(n)):e.closeCurrentList()}),sx:{"&:hover":{backgroundColor:"#ffffff"},"& .MuiTouchRipple-child":{backgroundColor:"#d3d3d3 !important"}},children:r===t._id?Object(x.jsx)(rt.a,{sx:{color:"black"}}):Object(x.jsx)(nt.a,{sx:{color:"black"}})})})]}),Object(x.jsx)(et.a,{})]},t._id);var n,a}))})};var ot=function(){var e=Object(a.useContext)(z).store,t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],i=n[1],o=[];return""!==e.filter&&null!=e.allPlaylists&&(o=(o=e.allPlaylists.filter((function(e){return null!=e.playlist.publishedDate}))).filter((function(t){return t.playlist.ownerUsername.toLowerCase().includes(e.filter.toLowerCase())}))),Object(x.jsx)(Ge.a,{sx:{width:"98%",left:"2%",bgcolor:"#ddbea9",overflowY:"scroll",borderRadius:"5px",marginTop:"-0.5%"},children:o.map((function(t){return Object(x.jsxs)(Ze.a,{expanded:r===t._id,children:[Object(x.jsxs)($e.a,{children:[Object(x.jsx)(Xe,{playlist:t.playlist,published:null!=t.playlist.publishedDate,isExpanded:r===t._id,isHome:"HOME"===e.pageView}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:r===t._id?"CLOSE PLAYLIST":"OPEN PLAYLIST"}),placement:"bottom",children:Object(x.jsx)(De.a,{onClick:(n=t._id,a=r===t._id,function(t){t.stopPropagation(),t.preventDefault(),i(!a&&n),!1===a?(e.setCurrentList(n),e.incrementListens(n)):e.closeCurrentList()}),sx:{"&:hover":{backgroundColor:"#ffffff"},"& .MuiTouchRipple-child":{backgroundColor:"#d3d3d3 !important"}},children:r===t._id?Object(x.jsx)(rt.a,{sx:{color:"black"}}):Object(x.jsx)(nt.a,{sx:{color:"black"}})})})]}),Object(x.jsx)(et.a,{})]},t._id);var n,a}))})},st={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:420,borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid",fontFamily:"Raleway",color:"#463f3a"};function lt(){var e=Object(a.useContext)(le).store,t=Object(a.useState)(e.currentSong.title),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(e.currentSong.artist),s=Object(u.a)(o,2),l=s[0],c=s[1],d=Object(a.useState)(e.currentSong.youTubeId),b=Object(u.a)(d,2),j=b[0],h=b[1];var p={color:"white",fontWeight:"bold",fontFamily:"Raleway",backgroundColor:"#cb997e","&:hover":{backgroundColor:"gray"},margin:1};return Object(x.jsx)(Te.a,{open:null!==e.currentSong,children:Object(x.jsx)(be.a,{sx:st,children:Object(x.jsxs)("div",{className:"modal-dialog",children:[Object(x.jsx)("header",{className:"dialog-header",children:"Edit Song"}),Object(x.jsx)("div",{className:"modal-center",children:Object(x.jsxs)("div",{className:"modal-center-content",children:[Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsx)("text",{id:"title-prompt",className:"modal-prompt",children:"Title:"}),Object(x.jsx)("input",{id:"edit-song-modal-title-textfield",className:"modal-textfield",type:"text",defaultValue:r,onChange:function(e){i(e.target.value)}})]}),Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsx)("text",{id:"artist-prompt",className:"modal-prompt",children:"Artist:"}),Object(x.jsx)("input",{id:"edit-song-modal-artist-textfield",className:"modal-textfield",type:"text",defaultValue:l,onChange:function(e){c(e.target.value)}})]}),Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsx)("text",{id:"you-tube-id-prompt",className:"modal-prompt",children:"YouTube Id:"}),Object(x.jsx)("input",{id:"edit-song-modal-youTubeId-textfield",className:"modal-textfield",type:"text",defaultValue:j,onChange:function(e){h(e.target.value)}})]})]})}),Object(x.jsxs)("div",{id:"confirm-cancel-container",children:[Object(x.jsx)(De.a,{id:"dialog-yes-button",className:"modal-button",onClick:function(){var t={title:r,artist:l,youTubeId:j};e.addUpdateSongTransaction(e.currentSongIndex,t)},sx:p,children:"Confirm"}),Object(x.jsx)(De.a,{id:"dialog-no-button",className:"modal-button",onClick:function(){e.hideModals()},sx:p,children:"Cancel"})]})]})})})}var ct={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:430,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:.5};function dt(){var e=Object(a.useContext)(le).store;var t="";e.currentSong&&(t=e.currentSong.title);var n={color:"white",fontWeight:"bold",fontFamily:"Raleway",backgroundColor:"#cb997e","&:hover":{backgroundColor:"gray"},margin:1};return Object(x.jsx)(Te.a,{open:null!==e.currentSong,children:Object(x.jsx)(be.a,{sx:ct,children:Object(x.jsxs)("div",{className:"modal-dialog",children:[Object(x.jsx)("header",{className:"dialog-header",children:"Remove Song?"}),Object(x.jsx)("div",{className:"modal-center",children:Object(x.jsxs)("div",{className:"modal-center-content modal-text",children:['Are you sure you want to remove "',t,'" from the playlist?']})}),Object(x.jsxs)("div",{id:"confirm-cancel-container",children:[Object(x.jsx)(De.a,{id:"dialog-yes-button",className:"modal-button",onClick:function(){e.addRemoveSongTransaction()},sx:n,children:"Confirm"}),Object(x.jsx)(De.a,{id:"dialog-no-button",className:"modal-button",onClick:function(){e.hideModals()},sx:n,children:"Cancel"})]})]})})})}var ut=function(){var e=Object(a.useContext)(z).store,t=Object(a.useContext)(L).auth,n=Object(a.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],s="";return e&&(e.isEditSongModalOpen()?s=Object(x.jsx)(lt,{}):e.isRemoveSongModalOpen()&&(s=Object(x.jsx)(dt,{}))),console.log(t.loggedIn),console.log(t.user),console.log(e.idNamePairs),Object(x.jsx)(Ge.a,{sx:{width:"98%",left:"2%",bgcolor:"#ddbea9",overflowY:"scroll",borderRadius:"5px",marginTop:"-0.5%"},children:e.idNamePairs.map((function(t){return Object(x.jsxs)(Ze.a,{expanded:i===t._id,children:[Object(x.jsxs)($e.a,{children:[Object(x.jsx)(Xe,{playlist:t.playlist,published:null!=t.playlist.publishedDate,isExpanded:i===t._id,isHome:"HOME"===e.pageView}),Object(x.jsx)(Re.a,{title:Object(x.jsx)("span",{style:{fontFamily:"Raleway",fontSize:"15px"},children:i===t._id?"CLOSE PLAYLIST":"OPEN PLAYLIST"}),placement:"bottom",children:Object(x.jsx)(De.a,{onClick:(n=t._id,a=i===t._id,function(t){t.stopPropagation(),t.preventDefault(),o(!a&&n),!1===a?(e.setCurrentList(n),e.incrementListens(n)):e.closeCurrentList()}),sx:{"&:hover":{backgroundColor:"#ffffff"},"& .MuiTouchRipple-child":{backgroundColor:"#d3d3d3 !important"}},children:i===t._id?Object(x.jsx)(rt.a,{sx:{color:"black"}}):Object(x.jsx)(nt.a,{sx:{color:"black"}})})})]}),Object(x.jsx)(et.a,{children:s})]},t._id);var n,a}))})},bt=n(148),jt=n(270),ht=n(271),pt=n(272),xt=n(273);var ft=function(e){for(var t=e.currentList,n=Object(a.useState)(null),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(0),l=Object(u.a)(s,2),c=l[0],d=l[1],b=Object(a.useState)(null),j=Object(u.a)(b,2),h=j[0],p=j[1],f=[],g=0;g<t.songs.length;g++)f.push(t.songs[g].youTubeId);function O(e){var n=f[c];p(t.songs[c]),e.loadVideoById(n),e.playVideo()}function m(){c<f.length-1?d(c+1):d(f.length-1)}function y(){i.playVideo()}var v={fontSize:15,textAlign:"center",fontFamily:"Raleway",color:"#463f3a"},w={fontSize:35,color:"#463f3a"},S=Object(x.jsx)("div",{id:"youtube-player-button",children:Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:.5,children:[Object(x.jsx)(je.a,{disabled:!(c>=0),children:Object(x.jsx)(jt.a,{onClick:function(){d(c>0?c-1:0),O(i),y()},sx:w})}),Object(x.jsx)(je.a,{children:Object(x.jsx)(ht.a,{onClick:function(){i.pauseVideo()},sx:w})}),Object(x.jsx)(je.a,{children:Object(x.jsx)(pt.a,{onClick:y,sx:w})}),Object(x.jsx)(je.a,{disabled:!(c<f.length),children:Object(x.jsx)(xt.a,{onClick:function(){m(),O(i),y()},sx:w})})]})}),k="";h&&(k=Object(x.jsxs)("div",{id:"current-song-text",children:[Object(x.jsxs)(fe.a,{sx:v,children:[Object(x.jsx)("span",{style:{fontWeight:"bold"},children:"Playlist: "})," ",t.name]}),Object(x.jsxs)(fe.a,{sx:v,children:[Object(x.jsx)("span",{style:{fontWeight:"bold"},children:"Song Number: "})," ",c+1]}),Object(x.jsxs)(fe.a,{sx:v,children:[Object(x.jsx)("span",{style:{fontWeight:"bold"},children:"Title: "})," ",h.title]}),Object(x.jsxs)(fe.a,{sx:v,children:[Object(x.jsx)("span",{style:{fontWeight:"bold"},children:"Artist: "})," ",h.artist]})]}));var C=Object(x.jsx)("div",{id:"empty-playlist-text",children:"ADD A SONG TO LOAD YOUTUBE PLAYER"});return 0!==f.length&&(C=Object(x.jsx)(bt.a,{videoId:f[c],opts:{height:"300",width:"520",playerVars:{autoplay:0}},onReady:function(e){o(e.target),O(e.target),e.target.playVideo()},onStateChange:function(e){var t=e.data,n=e.target;-1===t?console.log("-1 Video unstarted"):0===t?(console.log("0 Video ended"),m(),O(n)):1===t?console.log("1 Video played"):2===t?console.log("2 Video paused"):3===t?console.log("3 Video buffering"):5===t&&console.log("5 Video cued")}})),Object(x.jsxs)("div",{children:[C,Object(x.jsx)("div",{id:"youtube-player-text",children:Object(x.jsx)(fe.a,{sx:{paddingTop:"1.5%",fontSize:"25px",textAlign:"center",fontWeight:"bold",color:"#463f3a"},children:"Now Playing"})}),k,S]})},gt=n(275),Ot=n(295),mt=n(301),yt=n(274),vt=n(287);function wt(){var e=Object(a.useContext)(z).store.currentList.comments;e.sort((function(e,t){return new Date(t.postedDate)-new Date(e.postedDate)}));var t=Object(x.jsx)(Ge.a,{sx:{height:435,mb:2,backgroundColor:"#ffe8d6"},children:Object(x.jsx)(r.a.Fragment,{children:Object(x.jsx)(Ye.a,{sx:{backgroundColor:"white",borderRadius:"10px",mb:"5px",width:"99%"},children:Object(x.jsx)(yt.a,{primary:Object(x.jsx)(ke.a,{justifyContent:"center",children:Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a"},children:"No comments q.q"})})})})})});return 0!==e.length&&(t=Object(x.jsx)(Ge.a,{sx:{height:435,mb:2,backgroundColor:"#ffe8d6"},children:e.map((function(e){var t=e.body,n=e.owner,a=e.postedDate;return Object(x.jsx)(r.a.Fragment,{children:Object(x.jsxs)(Ye.a,{sx:{backgroundColor:"white",borderRadius:"10px",mb:"5px",width:"99%"},children:[Object(x.jsx)(mt.a,{children:Object(x.jsxs)(vt.a,{alt:"Profile Picture",sx:{backgroundColor:"#6b705c"},children:[" ",n.substring(0,1)," "]})}),Object(x.jsx)(yt.a,{primary:Object(x.jsxs)(ke.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a"},children:n}),Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",fontStyle:"italic",color:"#463f3a",fontSize:"15px"},children:new Date(a).toLocaleString()})]}),secondary:Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",color:"#463f3a"},children:t})})]})})}))})),Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(gt.a,{}),Object(x.jsx)(Ot.a,{square:!0,sx:{overflowY:"scroll",backgroundColor:"#ffe8d6"},children:t})]})}var St=function(){var e=Object(a.useContext)(z).store,t=Object(a.useState)("PLAYER"),n=Object(u.a)(t,2),i=n[0],o=n[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),c=l[0],d=l[1];Object(a.useEffect)((function(){e.loadIdNamePairs(),e.getAllPlaylists(),e.changePageView("HOME")}),[]);var b={style:{fontSize:15,fontFamily:"Raleway"}},j="",h="",p="";return e&&(console.log(e.currentList),null!=e.currentList&&(p="PLAYER"===i?Object(x.jsx)(ft,{currentList:e.currentList}):Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{id:"comments-box",children:Object(x.jsx)(wt,{})}),Object(x.jsx)(be.a,{sx:{flexGrow:1,mt:"2%",mb:"2%"},children:Object(x.jsx)(Ie.a,{onChange:function(e){d(e.target.value)},onKeyUp:function(t){return function(t){"Enter"===t.code&&(e.addComment(e.currentList,t.target.value),d(""))}(t)},sx:{background:"white",width:"95%"},label:"Add Comment",value:c,inputProps:b,InputLabelProps:b})})]}),h=Object(x.jsx)("div",{id:"youtube-player",children:Object(x.jsxs)(be.a,{children:[Object(x.jsx)(De.a,{id:"get-player-button",variant:"contained",onClick:function(){o("PLAYER")},sx:{backgroundColor:"PLAYER"===i?"#cb997e":"#ffe8d6",color:"PLAYER"===i?"#white":"#cb997e",fontWeight:"bold",fontFamily:"Raleway","&:hover":{backgroundColor:"gray",color:"white"}},children:"Player"}),Object(x.jsx)(De.a,{id:"get-comments-button",variant:"contained",onClick:function(){o("COMMENT")},disabled:null===e.currentList.publishedDate,sx:{backgroundColor:"PLAYER"===i?"#ffe8d6":"#cb997e",color:"PLAYER"===i?"#cb997e":"#white",fontWeight:"bold",fontFamily:"Raleway","&:hover":{backgroundColor:"gray",color:"white"}},children:"Comments"}),p]})})),"HOME"===e.pageView?j=Object(x.jsx)("div",{id:"list-selector-list",children:Object(x.jsx)(ut,{})}):"ALL"===e.pageView?j=Object(x.jsx)("div",{id:"list-selector-list",children:Object(x.jsx)(it,{})}):"USER"===e.pageView&&(j=""!==e.filter?Object(x.jsx)("div",{id:"list-selector-list",children:Object(x.jsx)(ot,{})}):Object(x.jsx)(r.a.Fragment,{children:Object(x.jsx)(Ye.a,{sx:{mt:"10px",width:"99%"},children:Object(x.jsx)(yt.a,{primary:Object(x.jsx)(ke.a,{justifyContent:"center",children:Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a",textAlign:"center"},children:"Search for Users . . . "})})})})}))),Object(x.jsxs)("div",{id:"playlist-selector",children:[Object(x.jsx)(Pe,{}),Object(x.jsxs)(ke.a,{direction:"row",spacing:1,children:[j,Object(x.jsx)(Ee,{}),h]}),Object(x.jsx)(Me,{})]})},kt=n(276);function Ct(){var e=Object(a.useContext)(L).auth,t={backgroundColor:"#a5a58d",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#a5a58d"},margin:1,fontFamily:"Raleway",width:"230px"},n=Object(l.f)();return Object(x.jsx)("div",{id:"splash-screen",children:Object(x.jsxs)(kt.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(gt.a,{}),Object(x.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:"10%",textAlign:"center",width:"100%",borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid"},children:[Object(x.jsxs)(fe.a,{sx:{fontWeight:"bold",fontSize:25,color:"black",fontFamily:"Raleway"},children:["Welcome to ",Object(x.jsx)("span",{id:"playlister-text",children:"Playlister"})]}),Object(x.jsx)(fe.a,{sx:{fontSize:15,color:"black",fontFamily:"Raleway",width:"90%"},children:"need a place to hold all your favorite songs in a playlist and share them with friends and community?"}),Object(x.jsxs)(ke.a,{mt:"5%",mb:"5%",children:[Object(x.jsx)(De.a,{className:"splash-screen-button",variant:"contained",sx:{backgroundColor:"#cb997e",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#cb997e"},margin:1,fontFamily:"Raleway",width:"230px"},onClick:function(){console.log("handleGuest"),e.guestUser(!0)},children:"Continue as Guest"}),Object(x.jsx)(De.a,{className:"splash-screen-button",variant:"contained",sx:t,onClick:function(){return n.push("/register/")},children:"Create Account"}),Object(x.jsx)(De.a,{className:"splash-screen-button",variant:"contained",sx:t,onClick:function(){return n.push("/login/")},children:"Login"})]}),Object(x.jsx)(fe.a,{sx:{fontSize:15,color:"black",fontFamily:"Raleway"},children:"\xa9 Amara Im 2022"})]})]})})}var Lt=function(){var e=Object(a.useContext)(z).store,t=Object(a.useState)("PLAYER"),n=Object(u.a)(t,2),i=n[0],o=n[1];Object(a.useEffect)((function(){e.getAllPlaylists(),e.changePageView("ALL")}),[]);var s="",l="",c="";return e&&(console.log(e.currentList),null!=e.currentList&&(c="PLAYER"===i?Object(x.jsx)(ft,{currentList:e.currentList}):Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{id:"comments-box",children:Object(x.jsx)(wt,{})}),Object(x.jsx)(be.a,{sx:{flexGrow:1,mt:"2%",mb:"2%"},children:Object(x.jsx)(Ie.a,{disabled:!0,sx:{background:"white",width:"95%"},label:"Login or Register to Add Comments",InputLabelProps:{style:{fontSize:15,fontFamily:"Raleway"}}})})]}),l=Object(x.jsx)("div",{id:"youtube-player",children:Object(x.jsxs)(be.a,{children:[Object(x.jsx)(De.a,{id:"get-player-button",variant:"contained",onClick:function(){o("PLAYER")},sx:{backgroundColor:"PLAYER"===i?"#cb997e":"#ffe8d6",color:"PLAYER"===i?"#white":"#cb997e",fontWeight:"bold",fontFamily:"Raleway","&:hover":{backgroundColor:"gray",color:"white"}},children:"Player"}),Object(x.jsx)(De.a,{id:"get-comments-button",variant:"contained",onClick:function(){o("COMMENT")},disabled:null===e.currentList.publishedDate,sx:{backgroundColor:"PLAYER"===i?"#ffe8d6":"#cb997e",color:"PLAYER"===i?"#cb997e":"#white",fontWeight:"bold",fontFamily:"Raleway","&:hover":{backgroundColor:"gray",color:"white"}},children:"Comments"}),c]})})),"ALL"===e.pageView?s=Object(x.jsx)("div",{id:"list-selector-list",children:Object(x.jsx)(it,{})}):"USER"===e.pageView&&(s=""!==e.filter?Object(x.jsx)("div",{id:"list-selector-list",children:Object(x.jsx)(ot,{})}):Object(x.jsx)(r.a.Fragment,{children:Object(x.jsx)(Ye.a,{sx:{mt:"10px",width:"99%"},children:Object(x.jsx)(yt.a,{primary:Object(x.jsx)(ke.a,{justifyContent:"center",children:Object(x.jsx)(fe.a,{type:"body2",sx:{fontFamily:"Raleway",fontWeight:"bold",color:"#463f3a",textAlign:"center"},children:"Search for Users . . . "})})})})}))),Object(x.jsxs)("div",{id:"playlist-selector",children:[Object(x.jsx)(Pe,{}),Object(x.jsxs)(ke.a,{direction:"row",spacing:1,children:[s,l]}),Object(x.jsx)(Me,{})]})};function It(){var e=Object(a.useContext)(L).auth;return console.log("HomeWrapper auth.loggedIn: "+e.loggedIn),null==e.user&&(e.loggedIn=!1),e.isGuest?Object(x.jsx)(Lt,{}):e.loggedIn&&null!=e.user?Object(x.jsx)(St,{}):Object(x.jsx)(Ct,{})}var Rt=n(288);function Pt(e){return Object(x.jsxs)(fe.a,Object(I.a)(Object(I.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{sx:{fontFamily:"Raleway",mt:"7%"},children:["Copyright \xa9 ",Object(x.jsx)(Rt.a,{color:"inherit",href:"/",children:"Playlister"})," ",(new Date).getFullYear(),"."]}))}var Tt=n(289),Dt=n(96),Nt=n.n(Dt),Et=n(277);function Ft(){var e=Object(a.useContext)(L).auth,t={style:{fontSize:15,fontFamily:"Raleway"}};return Object(x.jsx)("div",{id:"splash-screen",children:Object(x.jsxs)(Et.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(gt.a,{}),Object(x.jsx)(Te.a,{"aria-describedby":"modal-modal-description",open:e.modalVisible,className:"modal "+(e.modalVisible?"is-visible":""),children:Object(x.jsxs)(be.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",color:"black",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center",borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid"},children:[Object(x.jsx)(fe.a,{id:"modal-modal-description",sx:{mt:2,fontFamily:"Raleway",color:"#463f3a"},children:e.modalMsg}),Object(x.jsx)(De.a,{onClick:function(){return e.hideModal()},sx:{mt:3,backgroundColor:"#cb997e",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#cb997e"},fontFamily:"Raleway"},variant:"contained",children:"Close"})]})}),Object(x.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:"10%",textAlign:"center",width:"100%",borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid",fontFamily:"Raleway"},children:[Object(x.jsx)(vt.a,{sx:{m:1,bgcolor:"#a5a58d"},children:Object(x.jsx)(Nt.a,{})}),Object(x.jsx)(fe.a,{component:"h1",variant:"h5",sx:{fontFamily:"Raleway",fontWeight:"bold",fontSize:25},children:"Log In"}),Object(x.jsxs)(be.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);e.loginUser(n.get("email"),n.get("password"))},sx:{mt:3,width:"290px"},children:[Object(x.jsxs)(Tt.a,{container:!0,spacing:1,children:[Object(x.jsx)(Tt.a,{item:!0,xs:12,sx:{fontFamily:"Raleway"},children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",inputProps:t,InputLabelProps:t})})]}),Object(x.jsx)(De.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"#cb997e",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#cb997e"},fontFamily:"Raleway",width:"290px"},children:"Log in"}),Object(x.jsx)(Tt.a,{container:!0,justifyContent:"flex-end",children:Object(x.jsx)(Tt.a,{item:!0,children:Object(x.jsxs)(fe.a,{variant:"body2",sx:{fontFamily:"Raleway"},children:["Don't have an account? ",Object(x.jsx)(Rt.a,{href:"/register/",variant:"body2",color:"#a5a58d",sx:{fontFamily:"Raleway",fontWeight:"bold",textDecoration:"none"},children:" Sign Up"})]})})})]}),Object(x.jsx)(Pt,{sx:{mt:5}})]})]})})}function At(){var e=Object(a.useContext)(L).auth,t={style:{fontSize:15,fontFamily:"Raleway"}};return Object(x.jsx)("div",{id:"splash-screen",children:Object(x.jsxs)(Et.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(gt.a,{}),Object(x.jsx)(Te.a,{"aria-describedby":"modal-modal-description",open:e.modalVisible,className:"modal "+(e.modalVisible?"is-visible":""),children:Object(x.jsxs)(be.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",color:"black",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center",borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid"},children:[Object(x.jsx)(fe.a,{id:"modal-modal-description",sx:{mt:2,fontFamily:"Raleway",color:"#463f3a"},children:e.modalMsg}),Object(x.jsx)(De.a,{onClick:function(){return e.hideModal()},sx:{mt:3,backgroundColor:"#cb997e",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#cb997e"},fontFamily:"Raleway"},variant:"contained",children:"Close"})]})}),Object(x.jsxs)(be.a,{sx:{marginTop:"-10%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",padding:"10%",textAlign:"center",width:"100%",borderRadius:"10px",borderColor:"#c4c4c4",borderWidth:"2px",borderStyle:"solid",fontFamily:"Raleway"},children:[Object(x.jsx)(vt.a,{sx:{m:1,bgcolor:"#a5a58d"},children:Object(x.jsx)(Nt.a,{})}),Object(x.jsx)(fe.a,{component:"h1",variant:"h5",sx:{fontFamily:"Raleway",fontWeight:"bold",fontSize:25},children:"Sign Up"}),Object(x.jsxs)(be.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);e.registerUser(n.get("username"),n.get("email"),n.get("firstName"),n.get("lastName"),n.get("password"),n.get("passwordVerify"))},sx:{mt:3},children:[Object(x.jsxs)(Tt.a,{container:!0,spacing:1,children:[Object(x.jsx)(Tt.a,{item:!0,xs:12,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(Ie.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",inputProps:t,InputLabelProps:t})}),Object(x.jsx)(Tt.a,{item:!0,xs:12,children:Object(x.jsx)(Ie.a,{required:!0,fullWidth:!0,name:"passwordVerify",label:"Password Verify",type:"password",id:"passwordVerify",autoComplete:"new-password",inputProps:t,InputLabelProps:t})})]}),Object(x.jsx)(De.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"#cb997e",color:"white",fontWeight:"bold","&:hover":{backgroundColor:"#c4c4c4",color:"#cb997e"},fontFamily:"Raleway",width:"315px"},children:"Sign Up"}),Object(x.jsx)(Tt.a,{container:!0,justifyContent:"flex-end",children:Object(x.jsx)(Tt.a,{item:!0,children:Object(x.jsxs)(fe.a,{variant:"body2",sx:{fontFamily:"Raleway"},children:["Already have an account? ",Object(x.jsx)(Rt.a,{href:"/login/",variant:"body2",color:"#a5a58d",sx:{fontFamily:"Raleway",fontWeight:"bold",textDecoration:"none"},children:" Log In"})]})})})]}),Object(x.jsx)(Pt,{sx:{mt:5}})]})]})})}var Mt=function(){return Object(x.jsx)(s.a,{children:Object(x.jsx)(C,{children:Object(x.jsxs)(se,{children:[Object(x.jsx)(ge,{}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/",exact:!0,component:It}),Object(x.jsx)(l.a,{path:"/login/",exact:!0,component:Ft}),Object(x.jsx)(l.a,{path:"/register/",exact:!0,component:At})]})]})})})},_t=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,302)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Mt,{})}),document.getElementById("root")),_t()}},[[213,1,2]]]);
//# sourceMappingURL=main.d46b323a.chunk.js.map