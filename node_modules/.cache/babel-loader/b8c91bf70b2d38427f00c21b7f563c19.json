{"ast":null,"code":"import _slicedToArray from\"C:/Users/keoam/Documents/Github/playlister-project-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import{Link}from'react-router-dom';import AuthContext from'../auth';import AccountCircle from'@mui/icons-material/AccountCircle';import AppBar from'@mui/material/AppBar';import Box from'@mui/material/Box';import IconButton from'@mui/material/IconButton';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import Toolbar from'@mui/material/Toolbar';import Typography from'@mui/material/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AppBanner(){var _useContext=useContext(AuthContext),auth=_useContext.auth;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var isMenuOpen=Boolean(anchorEl);var handleProfileMenuOpen=function handleProfileMenuOpen(event){setAnchorEl(event.currentTarget);console.log(\"open menu\");};var handleMenuClose=function handleMenuClose(){setAnchorEl(null);};var handleLogout=function handleLogout(){handleMenuClose();auth.logoutUser();};var menuItemStyle={fontFamily:'Raleway',fontWeight:'bold',color:'#463f3a'};var menuId='primary-search-account-menu';var loggedOutMenu=/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},id:menuId,keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:isMenuOpen,onClose:handleMenuClose,children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(\"a\",{style:menuItemStyle,href:\"/login/\",children:\"Login\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(\"a\",{style:menuItemStyle,href:\"/register/\",children:\"Create Account\"})})]});var loggedInMenu=/*#__PURE__*/_jsx(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},id:menuId,keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:isMenuOpen,onClose:handleMenuClose,children:/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogout,sx:menuItemStyle,children:\"Logout\"})});var menu=loggedOutMenu;if(auth.loggedIn&&auth.user!=null){menu=loggedInMenu;}function getAccountMenu(loggedIn,user){var userInitials=auth.getUserInitials();if(loggedIn&&user!=null)return/*#__PURE__*/_jsx(\"div\",{id:\"userInitials-icon\",onClick:handleProfileMenuOpen,children:/*#__PURE__*/_jsx(\"text\",{id:\"userInitials-text\",children:userInitials})});else return/*#__PURE__*/_jsx(AccountCircle,{sx:{color:'#6b705c',fontSize:30}});}function handleGuest(){if(!(auth.loggedIn&&auth.user!=null))auth.guestUser(false);}return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{sx:{backgroundColor:'#ddbea9'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",noWrap:true,component:\"div\",sx:{display:{xs:'none',sm:'block'}},children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'#6b705c',fontSize:35,fontFamily:'Brush Script MT',fontWeight:'bold'},to:\"/\",onClick:handleGuest,children:\"Playlister\"})}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(Box,{sx:{display:{xs:'none',md:'flex'}},children:/*#__PURE__*/_jsx(IconButton,{size:\"large\",edge:\"end\",\"aria-label\":\"account of current user\",\"aria-controls\":menuId,\"aria-haspopup\":\"true\",onClick:handleProfileMenuOpen,color:\"inherit\",children:getAccountMenu(auth.loggedIn,auth.user)})})]})}),menu]});}","map":{"version":3,"names":["useContext","useState","Link","AuthContext","AccountCircle","AppBar","Box","IconButton","Menu","MenuItem","Toolbar","Typography","AppBanner","auth","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleProfileMenuOpen","event","currentTarget","console","log","handleMenuClose","handleLogout","logoutUser","menuItemStyle","fontFamily","fontWeight","color","menuId","loggedOutMenu","vertical","horizontal","loggedInMenu","menu","loggedIn","user","getAccountMenu","userInitials","getUserInitials","fontSize","handleGuest","guestUser","flexGrow","backgroundColor","display","xs","sm","textDecoration","md"],"sources":["C:/Users/keoam/Documents/Github/playlister-project-client/src/components/AppBanner.js"],"sourcesContent":["import { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport AuthContext from '../auth';\r\n\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nexport default function AppBanner() {\r\n    const { auth } = useContext(AuthContext);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const isMenuOpen = Boolean(anchorEl);\r\n\r\n    const handleProfileMenuOpen = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n        console.log(\"open menu\");\r\n    };\r\n\r\n    const handleMenuClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        handleMenuClose();\r\n        auth.logoutUser();\r\n    }\r\n\r\n    let menuItemStyle = {fontFamily:'Raleway', fontWeight:'bold', color:'#463f3a'}\r\n\r\n    const menuId = 'primary-search-account-menu';\r\n    const loggedOutMenu = (\r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            id={menuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            open={isMenuOpen}\r\n            onClose={handleMenuClose}\r\n        >\r\n            <MenuItem onClick={handleMenuClose}><a style={menuItemStyle} href='/login/'>Login</a></MenuItem>\r\n            <MenuItem onClick={handleMenuClose}><a style={menuItemStyle} href='/register/'>Create Account</a></MenuItem>\r\n        </Menu>\r\n    );\r\n    const loggedInMenu = \r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            id={menuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            open={isMenuOpen}\r\n            onClose={handleMenuClose}\r\n        >\r\n            <MenuItem onClick={handleLogout} sx={menuItemStyle}>Logout</MenuItem>\r\n        </Menu>        \r\n\r\n    let menu = loggedOutMenu;\r\n    if (auth.loggedIn && auth.user != null) {\r\n        menu = loggedInMenu;\r\n    }\r\n    \r\n    function getAccountMenu(loggedIn, user) {\r\n        let userInitials = auth.getUserInitials();\r\n        if (loggedIn && user != null) \r\n            return <div id=\"userInitials-icon\"\r\n                    onClick={handleProfileMenuOpen}\r\n                    ><text id=\"userInitials-text\">{userInitials}</text></div>;\r\n        else\r\n            return <AccountCircle sx={{color: '#6b705c', fontSize: 30 }}/>;\r\n    }\r\n\r\n    function handleGuest() {\r\n        if (!(auth.loggedIn && auth.user != null))\r\n            auth.guestUser(false);\r\n    }\r\n\r\n    return (\r\n        <Box sx={{ flexGrow: 1 }}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar sx = {{ backgroundColor: '#ddbea9'}}>\r\n                    <Typography                        \r\n                        variant=\"h4\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{ display: { xs: 'none', sm: 'block' } }}                        \r\n                    >\r\n                        <Link style={{ textDecoration: 'none', color: '#6b705c', fontSize:35, fontFamily: 'Brush Script MT', fontWeight: 'bold' }} \r\n                            to='/'\r\n                            onClick={handleGuest}\r\n                            >Playlister</Link>\r\n                    </Typography>\r\n                    <Box sx={{ flexGrow: 1 }}></Box>\r\n                    <Box sx={{ display: { xs: 'none', md: 'flex' } }}>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            edge=\"end\"\r\n                            aria-label=\"account of current user\"\r\n                            aria-controls={menuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleProfileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            { getAccountMenu(auth.loggedIn, auth.user) }\r\n                        </IconButton>\r\n                    </Box>\r\n                </Toolbar>\r\n            </AppBar>\r\n            {\r\n                menu\r\n            }\r\n        </Box>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}